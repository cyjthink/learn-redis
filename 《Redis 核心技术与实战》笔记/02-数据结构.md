1. redis通过什么存储键值对？哈希表
2. 为什么选用哈希表存储？查找键值的时间复杂度为O(1)
3. 数据量大后为什么redis会变慢？哈希表的冲突和rehash
4. 什么是哈希表的冲突？当两个key的哈希值落在同一个哈希桶上
5. redis是如何解决哈希表的冲突？哈希链表
6. 为什么使用rehash？当数据持续增加，哈希链表越来越长，查找性能下降
7. rehash的步骤？
   1. redis默认使用两个全局哈希表
   2. 给哈希表2分配更大的空间，如为哈希表1的两倍
   3. 将哈希表1中的数据拷贝映射到哈希表2
   4. 释放哈希表1
8. rehash存在的问题？当数据量大时，步骤2会阻塞redis的线程
9. redis如何解决rehash的问题？采用渐进式rehash
10. 什么是渐进式rehash？redis正常处理请求，同时在处理请求时从哈希表1的第一个索引开始将entry拷贝到哈希表2.处理下一个请求时索引往后移动
11. 在进行渐进式rehash时，如何处理新增数据、查询数据、更新与删除数据？新增数据只保存到哈希表2，哈希表1做到只减不增；查询数据时会先在哈希表1中找，如果没找到则去哈希表2中找；更新与删除数据会同时在哈希表1和哈希表2上进行，保证不漏掉
12. 整数数组、双向链表的特征？顺序读写，时间复杂度为O(N)
13. 什么是压缩列表？类似数组，表头存放zlbytes（列表长度）、zltail（列表尾的偏移量）、zllen（列表中的entry个数），表尾存放zlend，表示列表结束。查找列表中的第一个元素和最后一个元素的时间复杂度为O(1)，其他元素的时间复杂为O(N)
14. 什么是跳表？
    1. 前提是链表有序，思路中包含二分法
    2. 给链表加索引，如每两个元素取一个小的作为索引
    3. 查询时先从索引中查找，找到所属区间后再去下一层查找
    4. 跳表的时间复杂度为O(logN)
15. 操作复杂度口诀
    1. 单元素操作是基础
    2. 范围操作非常耗时：范围操作通常需要遍历，可以通过scan代替
    3. 统计操作通常高效
    4. 例外情况只有几个：由于压缩列表和双向链表都有保存表头、表尾的偏移量，所以对于List类型的XPush、XPop的时间复杂度都是O(1)
